<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10æœˆä»½è¿è¾“æ•°æ®å¯è§†åŒ–æŠ¥å‘Š</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f8fafc;
            color: #334155;
            padding: 20px;
            line-height: 1.6;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            border-radius: 16px;
            box-shadow: 0 8px 25px rgba(30, 58, 138, 0.2);
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.3rem;
            opacity: 0.95;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -15px;
        }
        
        .col {
            flex: 1;
            min-width: 500px;
            padding: 15px;
        }
        
        .chart-card {
            background-color: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid #e2e8f0;
        }
        
        .chart-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }
        
        .chart-title {
            font-size: 1.4rem;
            color: #1e293b;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f5f9;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chart-title i {
            color: #3b82f6;
            font-size: 1.6rem;
        }
        
        .chart-container {
            position: relative;
            height: 320px;
            width: 100%;
        }
        
        .summary-box {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin: 25px 0;
            gap: 15px;
        }
        
        .summary-item {
            flex: 1;
            min-width: 180px;
            text-align: center;
            padding: 20px 15px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 12px;
            border: 1px solid #cbd5e1;
        }
        
        .summary-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 5px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .summary-label {
            font-size: 1rem;
            color: #475569;
            font-weight: 600;
        }
        
        .data-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }
        
        .data-table th {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            font-weight: 600;
            padding: 16px 15px;
            text-align: center;
            border-right: 1px solid rgba(255,255,255,0.1);
        }
        
        .data-table th:last-child {
            border-right: none;
        }
        
        .data-table td {
            padding: 14px 15px;
            text-align: center;
            border-bottom: 1px solid #e2e8f0;
            border-right: 1px solid #e2e8f0;
        }
        
        .data-table td:last-child {
            border-right: none;
        }
        
        .data-table tr:hover {
            background-color: #f8fafc;
        }
        
        .data-table .highlight {
            background-color: #dbeafe;
            font-weight: 600;
        }
        
        .insights {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 5px solid #f59e0b;
            padding: 25px;
            margin: 30px 0;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.1);
        }
        
        .insights h3 {
            color: #92400e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .insights p {
            color: #78350f;
            margin-bottom: 10px;
            padding-left: 10px;
            border-left: 3px solid #f59e0b;
        }
        
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #e2e8f0;
            color: #64748b;
            font-size: 0.95rem;
        }
        
        .toggle-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 15px 0;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);
        }
        
        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(59, 130, 246, 0.4);
        }
        
        .comparison {
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            border-left: 5px solid #10b981;
            padding: 25px;
            margin: 30px 0;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.1);
        }
        
        .comparison h3 {
            color: #065f46;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .metric-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .metric-up {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .metric-down {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        @media (max-width: 768px) {
            .col {
                min-width: 100%;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .chart-container {
                height: 280px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>10æœˆä»½è¿è¾“æ•°æ®å¯è§†åŒ–æŠ¥å‘Š</h1>
            <p>æ€»è®¡ï¼š3963.83å¨ | 2117å• | 67è½¦æ¬¡</p>
        </div>
        
        <div class="summary-box">
            <div class="summary-item">
                <div class="summary-value">3963.83</div>
                <div class="summary-label">æ€»å¨æ•°ï¼ˆå¨ï¼‰</div>
            </div>
            
            <div class="summary-item">
                <div class="summary-value">2117</div>
                <div class="summary-label">æ€»å•æ•°ï¼ˆå•ï¼‰</div>
            </div>
            
            <div class="summary-item">
                <div class="summary-value">67</div>
                <div class="summary-label">æ€»è½¦æ¬¡ï¼ˆè½¦ï¼‰</div>
            </div>
            
            <div class="summary-item">
                <div class="summary-value">31.1%</div>
                <div class="summary-label">æ™®è´§å æ¯”</div>
            </div>
            
            <div class="summary-item">
                <div class="summary-value">68.9%</div>
                <div class="summary-label">å±é™©å“å æ¯”</div>
            </div>
        </div>
        
        <div class="row">
            <div class="col">
                <div class="chart-card">
                    <h2 class="chart-title">ğŸ“Š å„ç±»è¿è¾“å¨æ•°å¯¹æ¯”</h2>
                    <div class="chart-container">
                        <canvas id="tonsChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="col">
                <div class="chart-card">
                    <h2 class="chart-title">ğŸ“‹ å„ç±»è¿è¾“å•æ•°å¯¹æ¯”</h2>
                    <div class="chart-container">
                        <canvas id="ordersChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col">
                <div class="chart-card">
                    <h2 class="chart-title">ğŸ¥§ è¿è¾“å¨æ•°å æ¯”åˆ†å¸ƒ</h2>
                    <div class="chart-container">
                        <canvas id="pieChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="col">
                <div class="chart-card">
                    <h2 class="chart-title">ğŸšš è½¦æ¬¡ä¸å¨æ•°å…³ç³»ï¼ˆä¿æ¸©è½¦/åŒ…è½¦ï¼‰</h2>
                    <div class="chart-container">
                        <canvas id="tripsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col">
                <div class="chart-card">
                    <h2 class="chart-title">âš–ï¸ æ™®è´§ä¸å±é™©å“æ±‡æ€»å¯¹æ¯”</h2>
                    <div class="chart-container">
                        <canvas id="summaryChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <button class="toggle-btn" onclick="toggleTable()">ğŸ“‹ æ˜¾ç¤º/éšè—è¯¦ç»†æ•°æ®è¡¨</button>
        
        <div id="dataTableSection" style="display: none;">
            <div class="chart-card">
                <h2 class="chart-title">ğŸ“‘ è¯¦ç»†æ•°æ®è¡¨</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>è¿è¾“ç±»åˆ«</th>
                            <th>å¨æ•°ï¼ˆå¨ï¼‰</th>
                            <th>å æ¯”</th>
                            <th>å•æ•°ï¼ˆå•ï¼‰</th>
                            <th>å æ¯”</th>
                            <th>è½¦æ¬¡ï¼ˆè½¦ï¼‰</th>
                            <th>å¹³å‡æ¯å•é‡é‡</th>
                            <th>å¹³å‡æ¯è½¦è£…è½½</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>æ™®è´§è½¬åº“</td>
                            <td>592.70</td>
                            <td>15.0%</td>
                            <td>33</td>
                            <td>1.6%</td>
                            <td>-</td>
                            <td>17.96</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>å±é™©å“è½¬åº“</td>
                            <td class="highlight">1405.34</td>
                            <td class="highlight">35.5%</td>
                            <td>58</td>
                            <td>2.7%</td>
                            <td>-</td>
                            <td class="highlight">24.23</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>æ™®è´§ä¿æ¸©è½¦</td>
                            <td>2.94</td>
                            <td>0.1%</td>
                            <td>5</td>
                            <td>0.2%</td>
                            <td>3</td>
                            <td>0.59</td>
                            <td>0.98</td>
                        </tr>
                        <tr>
                            <td>æ™®è´§åŒ…è½¦</td>
                            <td>100.48</td>
                            <td>2.5%</td>
                            <td>38</td>
                            <td>1.8%</td>
                            <td>16</td>
                            <td>2.64</td>
                            <td>6.28</td>
                        </tr>
                        <tr>
                            <td>å±é™©å“ä¿æ¸©è½¦</td>
                            <td>47.70</td>
                            <td>1.2%</td>
                            <td>30</td>
                            <td>1.4%</td>
                            <td>4</td>
                            <td>1.59</td>
                            <td>11.93</td>
                        </tr>
                        <tr>
                            <td>å±é™©å“åŒ…è½¦</td>
                            <td>415.00</td>
                            <td>10.5%</td>
                            <td>383</td>
                            <td>18.1%</td>
                            <td>44</td>
                            <td>1.08</td>
                            <td class="highlight">9.43</td>
                        </tr>
                        <tr>
                            <td>å±é™©å“é›¶æ‹…</td>
                            <td>812.20</td>
                            <td>20.5%</td>
                            <td class="highlight">1232</td>
                            <td class="highlight">58.2%</td>
                            <td>-</td>
                            <td>0.66</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>æ™®è´§é›¶æ‹…</td>
                            <td>539.77</td>
                            <td>13.6%</td>
                            <td>338</td>
                            <td>16.0%</td>
                            <td>-</td>
                            <td>1.60</td>
                            <td>-</td>
                        </tr>
                        <tr style="font-weight: bold; background-color: #eff6ff;">
                            <td>æ€»è®¡</td>
                            <td>3963.83</td>
                            <td>100.0%</td>
                            <td>2117</td>
                            <td>100.0%</td>
                            <td>67</td>
                            <td>1.87</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="insights">
            <h3>ğŸ” å…³é”®æ´å¯Ÿåˆ†æ</h3>
            <p><strong>å±é™©å“è¿è¾“ä¸»å¯¼å¸‚åœº</strong>ï¼šå±é™©å“è¿è¾“å æ€»å¨æ•°çš„68.9%ï¼Œæ€»å•æ•°çš„80.9%</p>
            <p><strong>è½¬åº“ä¸šåŠ¡æ•ˆç‡çªå‡º</strong>ï¼šå±é™©å“è½¬åº“å•ç¥¨é‡é‡æœ€å¤§ï¼ˆ24.23å¨/å•ï¼‰ï¼Œæ™®è´§è½¬åº“æ¬¡ä¹‹ï¼ˆ17.96å¨/å•ï¼‰</p>
            <p><strong>é›¶æ‹…ä¸šåŠ¡å•æ•°é›†ä¸­</strong>ï¼šå±é™©å“é›¶æ‹…å•æ•°å æ¯”é«˜è¾¾58.2%ï¼Œæ˜¯ä¸šåŠ¡é‡çš„ä¸»è¦æ¥æº</p>
            <p><strong>è½¦è¾†è£…è½½æ•ˆç‡å·®å¼‚å¤§</strong>ï¼šå±é™©å“ä¿æ¸©è½¦è£…è½½æ•ˆç‡æœ€é«˜ï¼ˆ11.93å¨/è½¦ï¼‰ï¼Œæ™®è´§ä¿æ¸©è½¦æœ€ä½ï¼ˆ0.98å¨/è½¦ï¼‰</p>
            <p><strong>å±é™©å“åŒ…è½¦ä¸šåŠ¡æ´»è·ƒ</strong>ï¼šå±é™©å“åŒ…è½¦å•æ•°383å•ï¼Œå æ€»å•æ•°18.1%ï¼Œä¸šåŠ¡éœ€æ±‚æ—ºç››</p>
        </div>
        
        <div class="comparison">
            <h3>ğŸ“ˆ æ•ˆç‡æŒ‡æ ‡åˆ†æ</h3>
            <p><strong>å¹³å‡æ¯å•é‡é‡ï¼š</strong>1.87å¨/å•</p>
            <p><strong>å¹³å‡æ¯è½¦è£…è½½ï¼š</strong>5.93å¨/è½¦ï¼ˆæ‰€æœ‰æœ‰è½¦æ¬¡ä¸šåŠ¡ï¼‰</p>
            <p><strong>æœ€é«˜å•ç¥¨é‡é‡ï¼š</strong>å±é™©å“è½¬åº“ï¼ˆ24.23å¨/å•ï¼‰<span class="metric-badge metric-up">+1295% vs å±é™©å“é›¶æ‹…</span></p>
            <p><strong>æœ€ä½å•ç¥¨é‡é‡ï¼š</strong>å±é™©å“é›¶æ‹…ï¼ˆ0.66å¨/å•ï¼‰<span class="metric-badge metric-down">-97% vs å±é™©å“è½¬åº“</span></p>
            <p><strong>æœ€é«˜è½¦è¾†æ•ˆç‡ï¼š</strong>å±é™©å“ä¿æ¸©è½¦ï¼ˆ11.93å¨/è½¦ï¼‰<span class="metric-badge metric-up">æ•ˆç‡æœ€ä½³</span></p>
        </div>
        
        <div class="footer">
            <p>æ•°æ®ç»Ÿè®¡æ—¶é—´ï¼š10æœˆ31æ—¥ | æ•°æ®æ¥æºï¼šè¿è¾“ç®¡ç†ç³»ç»Ÿ</p>
            <p>æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š<span id="currentDate"></span> | ç‰ˆæƒæ‰€æœ‰ Â© 2023 è¿è¾“æ•°æ®å¯è§†åŒ–å¹³å°</p>
        </div>
    </div>

    <script>
        // è®¾ç½®å½“å‰æ—¥æœŸ
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('zh-CN');
        
        // åˆ‡æ¢æ•°æ®è¡¨æ˜¾ç¤º
        function toggleTable() {
            const tableSection = document.getElementById('dataTableSection');
            const btn = document.querySelector('.toggle-btn');
            if (tableSection.style.display === 'none') {
                tableSection.style.display = 'block';
                btn.innerHTML = 'ğŸ“‹ éšè—è¯¦ç»†æ•°æ®è¡¨';
            } else {
                tableSection.style.display = 'none';
                btn.innerHTML = 'ğŸ“‹ æ˜¾ç¤ºè¯¦ç»†æ•°æ®è¡¨';
            }
        }
        
        // æ•°æ®å‡†å¤‡ - 10æœˆä»½
        const categories = ['æ™®è´§è½¬åº“', 'å±é™©å“è½¬åº“', 'æ™®è´§ä¿æ¸©è½¦', 'æ™®è´§åŒ…è½¦', 'å±é™©å“ä¿æ¸©è½¦', 'å±é™©å“åŒ…è½¦', 'å±é™©å“é›¶æ‹…', 'æ™®è´§é›¶æ‹…'];
        const tons = [592.70, 1405.34, 2.94, 100.48, 47.70, 415.00, 812.20, 539.77];
        const orders = [33, 58, 5, 38, 30, 383, 1232, 338];
        const trips = [null, null, 3, 16, 4, 44, null, null];
        
        // é¢œè‰²æ–¹æ¡ˆ
        const colors = [
            '#FF6B6B', '#4ECDC4', '#FFD166', '#06D6A0', 
            '#118AB2', '#073B4C', '#EF476F', '#7209B7'
        ];
        
        // 1. å¨æ•°å¯¹æ¯”æŸ±çŠ¶å›¾
        const tonsCtx = document.getElementById('tonsChart').getContext('2d');
        new Chart(tonsCtx, {
            type: 'bar',
            data: {
                labels: categories,
                datasets: [{
                    label: 'å¨æ•°ï¼ˆå¨ï¼‰',
                    data: tons,
                    backgroundColor: colors,
                    borderColor: colors.map(color => color + 'CC'),
                    borderWidth: 1,
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#f8fafc',
                        borderColor: '#3b82f6',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const total = tons.reduce((a, b) => a + b, 0);
                                const percentage = ((value / total) * 100).toFixed(1);
                                return `${context.label}: ${value.toFixed(2)}å¨ (${percentage}%)`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'å¨æ•°ï¼ˆå¨ï¼‰',
                            color: '#475569',
                            font: { weight: 'bold' }
                        },
                        grid: {
                            color: 'rgba(0,0,0,0.05)'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45
                        },
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });
        
        // 2. å•æ•°å¯¹æ¯”æŸ±çŠ¶å›¾
        const ordersCtx = document.getElementById('ordersChart').getContext('2d');
        new Chart(ordersCtx, {
            type: 'bar',
            data: {
                labels: categories,
                datasets: [{
                    label: 'å•æ•°ï¼ˆå•ï¼‰',
                    data: orders,
                    backgroundColor: colors.map(color => color + 'AA'),
                    borderColor: colors,
                    borderWidth: 1,
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#f8fafc',
                        borderColor: '#3b82f6',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const total = orders.reduce((a, b) => a + b, 0);
                                const percentage = ((value / total) * 100).toFixed(1);
                                return `${context.label}: ${value}å• (${percentage}%)`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'å•æ•°ï¼ˆå•ï¼‰',
                            color: '#475569',
                            font: { weight: 'bold' }
                        },
                        grid: {
                            color: 'rgba(0,0,0,0.05)'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45
                        },
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });
        
        // 3. é¥¼å›¾
        const pieCtx = document.getElementById('pieChart').getContext('2d');
        new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: categories,
                datasets: [{
                    data: tons,
                    backgroundColor: colors,
                    borderColor: '#fff',
                    borderWidth: 2,
                    hoverOffset: 15
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            padding: 15,
                            usePointStyle: true,
                            font: {
                                size: 11
                            },
                            color: '#475569'
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#f8fafc',
                        borderColor: '#3b82f6',
                        borderWidth: 1,
                        callbacks: {
                            label: function(context) {
                                const value = context.raw;
                                const total = tons.reduce((a, b) => a + b, 0);
                                const percentage = ((value / total) * 100).toFixed(1);
                                return `${context.label}: ${value.toFixed(2)}å¨ (${percentage}%)`;
                            }
                        }
                    }
                }
            }
        });
        
        // 4. è½¦æ¬¡ä¸å¨æ•°å…³ç³»å›¾
        const tripCategories = ['æ™®è´§ä¿æ¸©è½¦', 'æ™®è´§åŒ…è½¦', 'å±é™©å“ä¿æ¸©è½¦', 'å±é™©å“åŒ…è½¦'];
        const tripTons = [2.94, 100.48, 47.70, 415.00];
        const tripCounts = [3, 16, 4, 44];
        
        const tripsCtx = document.getElementById('tripsChart').getContext('2d');
        new Chart(tripsCtx, {
            type: 'bar',
            data: {
                labels: tripCategories,
                datasets: [
                    {
                        label: 'å¨æ•°ï¼ˆå¨ï¼‰',
                        data: tripTons,
                        backgroundColor: '#3b82f6',
                        borderColor: '#1d4ed8',
                        borderWidth: 1,
                        borderRadius: 5,
                        yAxisID: 'y'
                    },
                    {
                        label: 'è½¦æ¬¡ï¼ˆè½¦ï¼‰',
                        data: tripCounts,
                        backgroundColor: '#f59e0b',
                        borderColor: '#d97706',
                        borderWidth: 1,
                        borderRadius: 5,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#f8fafc',
                        borderColor: '#3b82f6',
                        borderWidth: 1,
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    const efficiency = (tripTons[context.dataIndex] / tripCounts[context.dataIndex]).toFixed(2);
                                    return `${context.label}: ${context.raw.toFixed(2)}å¨ (${efficiency}å¨/è½¦)`;
                                } else {
                                    return `${context.label}: ${context.raw}è½¦`;
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'å¨æ•°ï¼ˆå¨ï¼‰',
                            color: '#3b82f6',
                            font: { weight: 'bold' }
                        },
                        grid: {
                            color: 'rgba(59, 130, 246, 0.1)'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'è½¦æ¬¡ï¼ˆè½¦ï¼‰',
                            color: '#f59e0b',
                            font: { weight: 'bold' }
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });
        
        // 5. æ™®è´§ä¸å±é™©å“æ±‡æ€»å¯¹æ¯”
        // è®¡ç®—æ™®è´§å’Œå±é™©å“æ±‡æ€»
        const generalCategories = ['æ™®è´§è½¬åº“', 'æ™®è´§ä¿æ¸©è½¦', 'æ™®è´§åŒ…è½¦', 'æ™®è´§é›¶æ‹…'];
        const dangerousCategories = ['å±é™©å“è½¬åº“', 'å±é™©å“ä¿æ¸©è½¦', 'å±é™©å“åŒ…è½¦', 'å±é™©å“é›¶æ‹…'];
        
        let generalTons = 0;
        let dangerousTons = 0;
        let generalOrders = 0;
        let dangerousOrders = 0;
        
        categories.forEach((cat, index) => {
            if (generalCategories.includes(cat)) {
                generalTons += tons[index];
                generalOrders += orders[index];
            } else if (dangerousCategories.includes(cat)) {
                dangerousTons += tons[index];
                dangerousOrders += orders[index];
            }
        });
        
        const summaryCtx = document.getElementById('summaryChart').getContext('2d');
        new Chart(summaryCtx, {
            type: 'bar',
            data: {
                labels: ['æ™®è´§æ±‡æ€»', 'å±é™©å“æ±‡æ€»'],
                datasets: [
                    {
                        label: 'å¨æ•°ï¼ˆå¨ï¼‰',
                        data: [generalTons, dangerousTons],
                        backgroundColor: ['#3b82f6', '#ef4444'],
                        borderColor: ['#1d4ed8', '#dc2626'],
                        borderWidth: 2,
                        borderRadius: 8,
                        yAxisID: 'y'
                    },
                    {
                        label: 'å•æ•°ï¼ˆå•ï¼‰',
                        data: [generalOrders, dangerousOrders],
                        backgroundColor: ['#93c5fd', '#fca5a5'],
                        borderColor: ['#3b82f6', '#ef4444'],
                        borderWidth: 2,
                        borderRadius: 8,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#f8fafc',
                        bodyColor: '#f8fafc',
                        borderColor: '#3b82f6',
                        borderWidth: 1,
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                const totalTons = generalTons + dangerousTons;
                                const totalOrders = generalOrders + dangerousOrders;
                                
                                if (context.datasetIndex === 0) {
                                    const percentage = ((context.raw / totalTons) * 100).toFixed(1);
                                    return `${context.label}: ${context.raw.toFixed(2)}å¨ (${percentage}%)`;
                                } else {
                                    const percentage = ((context.raw / totalOrders) * 100).toFixed(1);
                                    return `${context.label}: ${context.raw}å• (${percentage}%)`;
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'å¨æ•°ï¼ˆå¨ï¼‰',
                            color: '#3b82f6',
                            font: { weight: 'bold' }
                        },
                        grid: {
                            color: 'rgba(59, 130, 246, 0.1)'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'å•æ•°ï¼ˆå•ï¼‰',
                            color: '#ef4444',
                            font: { weight: 'bold' }
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                }
            }
        });
        
        // æ‰“å°æ±‡æ€»æ•°æ®åˆ°æ§åˆ¶å°
        console.log('=== 10æœˆä»½è¿è¾“æ•°æ®æ±‡æ€» ===');
        console.log(`æ€»å¨æ•°: ${tons.reduce((a, b) => a + b, 0).toFixed(2)}å¨`);
        console.log(`æ€»å•æ•°: ${orders.reduce((a, b) => a + b, 0)}å•`);
        console.log(`æ€»è½¦æ¬¡: ${trips.filter(t => t !== null).reduce((a, b) => a + b, 0)}è½¦æ¬¡`);
        console.log(`æ™®è´§å¨æ•°: ${generalTons.toFixed(2)}å¨ (${((generalTons/(generalTons+dangerousTons))*100).toFixed(1)}%)`);
        console.log(`å±é™©å“å¨æ•°: ${dangerousTons.toFixed(2)}å¨ (${((dangerousTons/(generalTons+dangerousTons))*100).toFixed(1)}%)`);
        console.log(`æ™®è´§å•æ•°: ${generalOrders}å• (${((generalOrders/(generalOrders+dangerousOrders))*100).toFixed(1)}%)`);
        console.log(`å±é™©å“å•æ•°: ${dangerousOrders}å• (${((dangerousOrders/(generalOrders+dangerousOrders))*100).toFixed(1)}%)`);
        console.log(`å¹³å‡æ¯å•é‡é‡: ${(tons.reduce((a, b) => a + b, 0) / orders.reduce((a, b) => a + b, 0)).toFixed(2)}å¨/å•`);
    </script>
</body>
</html>